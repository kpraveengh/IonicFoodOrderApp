{"version":3,"sources":["../../src/pages/location/location.module.ts","../../src/pages/location/location.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { LocationPage } from './location';\n\n@NgModule({\n  declarations: [\n    LocationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LocationPage),\n  ],\n})\nexport class LocationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.module.ts","import { Component,ElementRef, ViewChild, NgZone } from '@angular/core';\nimport { IonicPage,Platform, NavController, NavParams,ModalController,ViewController } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { GoogleMapsProvider } from '../../providers/google-maps/google-maps';\n\ndeclare var google; \n\n@IonicPage({name:\"Location\"})\n@Component({\n  selector: 'page-location',\n  templateUrl: 'location.html',\n})\n\n\n\nexport class LocationPage {\n  @ViewChild('map') mapElement: ElementRef;\n  @ViewChild('pleaseConnect') pleaseConnect: ElementRef;\n\n  latitude: number;\n  longitude: number;\n  autocompleteService: any;\n  placesService: any;\n  query: string = '';\n  places: any = [];\n  searchDisabled: boolean;\n  saveDisabled: boolean;\n  location: any; \n google:any;\n\n\n  constructor(public navCtrl: NavController, public zone: NgZone, public maps: GoogleMapsProvider, public platform: Platform, public geolocation: Geolocation, public viewCtrl: ViewController) {\n      this.searchDisabled = true;\n      this.saveDisabled = true;\n  }\n\n  ionViewDidLoad(): void {\n\n      let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement).then(() => {\n\n          this.autocompleteService = new google.maps.places.AutocompleteService();\n          this.placesService = new google.maps.places.PlacesService(this.maps.map);\n          this.searchDisabled = false;\n\n      });\n\n  }\n\n  selectPlace(place){\n\n      this.places = [];\n\n      let location = {\n          lat: null,\n          lng: null,\n          name: place.name\n      };\n\n      this.placesService.getDetails({placeId: place.place_id}, (details) => {\n\n          this.zone.run(() => {\n\n              location.name = details.name;\n              location.lat = details.geometry.location.lat();\n              location.lng = details.geometry.location.lng();\n              this.saveDisabled = false;\n\n              this.maps.map.setCenter({lat: location.lat, lng: location.lng});\n\n              this.location = location;\n\n          });\n\n      });\n\n  }\n\n  searchPlace(){\n\n      this.saveDisabled = true;\n\n      if(this.query.length > 0 && !this.searchDisabled) {\n\n          let config = {\n              types: ['geocode'],\n              input: this.query\n          }\n\n          this.autocompleteService.getPlacePredictions(config, (predictions, status) => {\n\n              if(status == google.maps.places.PlacesServiceStatus.OK && predictions){\n\n                  this.places = [];\n\n                  predictions.forEach((prediction) => {\n                      this.places.push(prediction);\n                  });\n              }\n\n          });\n\n      } else {\n          this.places = [];\n      }\n\n  }\n\n  save(){\n      this.viewCtrl.dismiss(this.location);\n  }\n\n  close(){\n      this.viewCtrl.dismiss();\n  }  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.ts"],"sourceRoot":""}